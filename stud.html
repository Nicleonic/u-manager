<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="inscript.css">
    <!-- bootstrap -->
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
    <!-- fontAwesome -->
    <link rel="stylesheet" href="node_modules/fontweb/css/all.css">
    <link rel="stylesheet" href="node_modules/fontweb/css/all.min.css">
    <!-- OwlCarousel -->
    <link rel="stylesheet" href="owlcarousel/assets/owl.carousel.min.css">
    <title>U-M | Apparitorat/student</title>
</head>
<body >
    <style>
        .student-info{
            border: 2px solid black;
            position: relative;

        }
        .student-info .stud-header{
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 0;
        }
        .stud-header *{
            border: 0px solid rebeccapurple;
        }
        .stud-header .first-id{
            width: 80%;
            border: 0px dashed blue;
        }
        .stud-header {
            border: 0px solid rgb(161, 16, 0);
        }
        .first-id ul{
            list-style: none;

        }
        .first-id ul li{
            list-style: none;
            font-size: 1.2rem;
        }
        .student-info .id-title{
            font-size: 1.2rem;
            font-weight: bold;
            padding-left: 2rem;
        }
        .stud-header .photo{
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0;
            margin: 0;
            border: 0px solid violet;
            height: auto;
            width: 20%;
            /* flex-direction: column;
            justify-content: start;
            align-items: start;
            position: relative; */
        }
        div::-webkit-scrollbar{
            height: .4rem;
        }
        .stud-header .photo .container-img{
            height: 100%;
            width: 100%;
            position: relative;

        }
        .stud-header .photo .container-img {
           position: relative;
           display: flex;
           flex-direction: column;
            border: 1px dotted rgb(161, 16, 0);
            height: 100%;
            width: 100%;
            overflow-x: auto;

        }
        .stud-header .photo .container-img .img{
            overflow-x: auto;
            height: 16rem;
            width: 100%;
            min-width: 12rem;
            background-image: url(img/user.png);
            background-position: center;
            background-size: cover;
        }
        .stud-header .photo .container-img .bottom{
            width: 100%;
        }
        .stud-header .photo .container-img .bottom ul{
            list-style: none;
            display: flex;
            justify-content: space-around;
        }
        .stud-header .photo .container-img .bottom ul li{
            list-style: none;
        }
        .container-st{
            border: 0px solid saddlebrown;
            display: flex;
        }
        .container-st .left{
            border: 0px solid darkcyan;
            width: 80%;
        }
        .container-st .right{
            width: 20%;
            border: 0px solid darkblue;
        }
        .container-st .right ul{
            border: 0px solid darkcyan;
            padding: 0;
            margin: 0;
            padding-left: auto;
            padding-right: auto;
            display: flex;
            justify-content: space-around;

        }
        .container-st .right ul li{
            list-style: none;
            display: inline;
  
            
        }
        .container-st .left ul{
            list-style: none;
        }
        .container-st .left ul li{
            list-style: none;
            font-size: 1.2rem;
        }
        .stud-header .first-id ul li span,
        .container-st .left ul li span{
            font-size: 1.2rem;
            font-weight: bolder;
        }
        li{
            display: grid;
            grid-template-columns: 20% auto;
            /* gap: 100px; */
        }
        li>span{
            border-bottom: solid 1px black;
        }
    </style>
    <!-- <odification Etudiant -->
        
    <div class="container-blur" id="st_modif">
        <div class="inscr-form">
            <div class="cancel_btn py-0 " id="student_Cancel" onclick={removeEZDisplay()}>
                <span><i class="fas fa-xmark"></i></span>
            </div>
            <div class="staff-title py-0 h-auto p-0">
                <h2>Modifier étudiant</h2>
            </div>
            <div class="signin py-0">
                <form action="#" method="POST">
                    <div class="inputs-datas py-0 my-0">
                        <h3 style="text-align: center;padding: 3% 0%;">Identités</h3>
                        <fieldset class="form-group">
                            <!-- <legend>Identité du (de la) candidat (e)</legend> -->
                            
                            <div class="form-group i-group">
                                <label for="name" class="form-label">Nom</label>
                                <input type="text" class="form-control" name="nom"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Post-nom</label>
                                <input type="text" class="form-control" name="postnom"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Prénom</label>
                                <input type="text" class="form-control" name="prenom"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Sexe</label>
                                <select class="form-select form-control" name="sexe" >
                                  <option  selected value="M">Masculin</option>
                                  <option value="F">Féminin</option>
                                </select>
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Lieu de naissance</label>
                                <input type="text" class="form-control" name="lnaissance"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Date de naissance</label>
                                <input type="date" class="form-control" name="dnaissance"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Nom du Père</label>
                                <input type="text" class="form-control" name="pere_nom"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Tel. du Père </label>
                                <input type="text" class="form-control" name="pere_tel"   placeholder="" required> 
        
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Nom de la mère</label>
                                <input type="text" class="form-control" name="mere_nom"  placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Tel. de la Mère</label>
                                <input type="text" class="form-control" name="mere_tel"   placeholder="" required> 
                            </div>
                        </fieldset>
                        <fieldset class="origine">
                            <!-- <legend>Origine</legend> -->
                            <div class="form-group i-group">
                                <label for="" class="form-label">Pays d'origine</label>
                                <input type="text" class="form-control" name="pays_origine"  placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Province d'origine</label>
                                <input type="text" class="form-control" name="province_origine"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Territoire d'origine</label>
                                <input type="text" class="form-control" name="territoire_origine"   placeholder="" required> 
                            </div>
                        </fieldset>
                        <fieldset class="religion">
                            <!-- <legend>Opinion Réligieuse</legend> -->
                            <div class="form-group i-group">
                                <label for="" class="form-label">Confession réligieuse</label>
                                <input type="text" class="form-control" name="religion"  placeholder="" required> 
                            </div>
                            <div class="form-group">
                                <label for=""  class="form-label">Langues</label>
                                <input type="text" name="langues" class="form-control"   placeholder="" required> 
                            </div>
                        </fieldset>
                        <fieldset class="adresseActuelle">
                            <!-- <legend>Adresse Actuelle du (de la) candidat (e)</legend> -->
                            <div class="form-group i-group">
                                <label for="" class="form-label">Ville</label>
                                <input type="text" class="form-control" name="ville_actuelle"  placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Commune</label>
                                <input type="text" class="form-control" name="commune_actulle"  placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Quartier</label>
                                <input type="text" class="form-control" name="quartier_actuel"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Téléphone</label>
                                <input type="text" class="form-control" name="telephone"  placeholder="" required> 
                            </div>
                        </fieldset>
                        <h3 style="text-align: center;padding: 3% 0%;">Demande d'inscription</h3>
                        <fieldset class="filiereChoice">
                            <!-- <legend>Choix de filière</legend> -->
                            <div class="mb-3">
                                <label for="" class="form-label">Faculté</label>
                                <select class="form-select form-select-sm" id="faculte" aria-label=".form-select-sm example">
                                  
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Département</label>
                                <select class="form-select form-select-sm" name="departement" id="departement" aria-label=".form-select-sm example">
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Promotion</label>
                                <select class="form-select form-select-sm" name="promotion" id="promotion" aria-label=".form-select-sm example">                                  
                                </select>
                            </div>
                            <div class="mb-3">
                          
                        </fieldset>
                        <h3 style="text-align: center;padding: 3% 0%;">Ecole secondaire</h3>
                        <fieldset class="high-school">
                            <!-- <legend>Etudes sécondaires faites</legend> -->
                            <div class="form-group i-group">
                                <label for="" class="form-label">Nom de l'école fréquentée</label>
                                <input type="text" name="ecole_secondaire" class="form-control"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Section faite</label>
                                <input type="text" class="form-control" name="section_secondaire"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Année d'obtention du diplôme</label>
                                <input type="text" class="form-control" name="annee_diplome"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Pourcentage du diplôme d'Etat</label>
                                <input type="number" class="form-control" name="pourcentage_diplome"   placeholder="" required> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Numéro du diplôme d'Etat</label>
                                <input type="number" class="form-control" name="numero_diplome"   placeholder="" required> 
                            </div>
                        </fieldset>
                        
                        
                        <fieldset class="afterHighschool">
                            <!-- <legend>Occupations après les humanités</legend> -->
                            <div class="form-group i-group">
                                <label for="" class="form-label">Activités professionnelles</label>
                                <input name="profession" id="" cols="80" rows="5" class="form-control">
                            </div>
                        </fieldset>
                        <h3 style="text-align: center;padding: 3% 0%;">Etudes universitaires antérieures</h3>
                        <fieldset class="univBefore">
                            
                            <div class="form-group i-group">
                                <label for="" class="form-label">Année académique</label>
                                <input type="number" name="last_annee_academique" class="form-control"   placeholder=""> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Etablissement</label>
                                <input type="text" name="last_etablissement" class="form-control"   placeholder=""> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Promotion</label>
                                <input type="number" name="last_promotion" class="form-control"   placeholder=""> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Département</label>
                                <input type="text" class="form-control" name="last_faculte"   placeholder=""> 
                            </div>
                            <div class="form-group i-group">
                                <label for="" class="form-label">Faculté</label>
                                <input type="text" class="form-control" name="last_faculte"   placeholder=""> 
                            </div>
                        </fieldset>
                        
                        <h3 style="text-align: center;padding: 3% 0%;">Documents</h3>
                        <fieldset class="prerequis">
                            
                            <div class="form-group i-group-check">
                                <div class="form-group i-group">
                                    <label for="" class="form-label">Attestation du diplôme</label>
                                    <input type="checkbox" name="at_diplome_secondaire" id="">
                                </div>
                                <div class="form-group i-group">
                                    <label for="" class="form-label">Relevés (Pour les ancians etudiants)</label>
                                    <input type="checkbox" name="at_releve" id="">
                                </div>
                                <div class="form-group i-group">
                                    <label for="" class="form-label">Attestation de bonnes moeurses</label>
                                    <input type="checkbox" name="at_bonnes_moeurses" id="">
                                </div>
                                <div class="form-group i-group">
                                    <label for="option" class="form-label">Attestation d'engagement</label>
                                    <input type="checkbox" name="at_engagement" id="option">
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="actionsValidation pb-0  mb-0">
                        <!-- student signup validation -->
                        <button class="btn btn-log w-50 " id="studentSV" onclick={removeEZDisplay()} type="submit">Enregistrer les modifications</button>
                    </div>      

                </form>
            </div>
            <!-- student creation formular end -->
        </div>
        
    </div>
    <!-- Inscription END -->
    <header>
        <div class="head-content">
            <div class="title">
                <h2>Apparitorat</h2>
            </div>
            <div class="actions" onclick="window.open('find.html','_self')">
                <button class="btn btn-log"><i class="fa-solid fa-arrow-left"></i></button>
            </div>


        </div>
    </header>
    
    <section class="body-container">
     
        <div class="student-info" style="border: none;">
            

            <div class="stud-header " style="display: flex;align-items:flex-start;border: solid blue 0px;">
                <div class="photo">
                    <div class="container-img " style="border: none;display: grid; gap: 10px;">
                        <div class="img">

                        </div>
                        <div class="right" >
                            <ul style="display: flex; gap: 5%;">
                                <!-- <li class="tt" data-bs-placement="top" title="Valider"> -->
                                    <button class="btn btn-success" id="valide"> <i class="fa-solid fa-check"></i></button>
                                <!-- </li> -->
                                <!-- <li class="tt" data-bs-placement="top" title="Modifier"> -->
                                    <button class="btn btn-primary" id="modify" onclick="alert('fonctionnalité non disponible')"> <i class="fa-solid fa-edit"></i></button>
                                <!-- </li> -->
                                <!-- <li class="tt" data-bs-placement="top" title="Supprimer"> -->
                                    <button class="btn btn-danger" id="del"> <i class="fa-solid fa-trash"></i></button>
                                <!-- </li> -->
                            </ul>
                        </div>
                    </div>
                    
                </div>
                <!-- ids Student -->
                <div class="first-id">
                    <h2 class="id-title">Identités de l'Etudiant</h2>
                    <ul>
                        <li>Nom      : <span id="nom">......</span></li>
                        <li>Post-Nom : <span id="postnom">......</span></li>
                        <li>Prénom   : <span id="prenom">......</span></li>
                        <li>Sexe     : <span id="sexe">......</span></li>
                        <li>Matt.    : <span id="matricule">......</span></li>
                        <li>Promotion     : <span id="promotion">......</span></li>
                        <li>Département   : <span id="departement">......</span></li>
                        <li>Faculté       : <span id="">......</span></li>
                        <li>Téléphone       : <span id="telephone">......</span></li>
                    </ul>
                    <h2 class="id-title">Autres infos sur l'Etudiant</h2>

                    <ul>
                        <li>Nom du Père     : <span>......</span></li>
                        <li>Tél. du Père  : <span>......</span></li>

                        <li>Nom de la Mère : <span>......</span></li>
                        <li>Tél. de la Mère  : <span>......</span></li>

                        <li>Pays d'origine     : <span>......</span></li>
                        <li>Province d'origine    : <span>......</span></li>
                        <li>Territoire d'origine     : <span>......</span></li>
                        <li>Confession religieuse   : <span>......</span></li>
                        <li>Langues parlée(s)       : <span>......</span></li>
                        <li>Ville   : <span></span> </li>
                        <li>Commune :  <span></span></li>
                        <li>Quartier    :  <span></span></li>
                        <li>Nom de l'école frequentée    :  <span></span></li>
                        <li>Section faite    :  <span></span></li>
                        <li>Année d'obtention du diplôme    :  <span></span></li>
                        <li>Pourcentage du diplôme    :  <span></span></li>
                        <li>Numéro du diplôme d'Etat    :  <span></span></li>
                        <li>Activités professionnelles   :  <span></span></li>
                        <li>Année académique    :  <span></span></li>
                        <li>Etablissement    :  <span></span></li>
                        <li>Promotion    :  <span></span></li>
                        <li>Département    :  <span></span></li>
                        <li>Faculté   :  <span></span></li>
                        
                    </ul>
                </div>
                <div class="right">
                    <ul>
                        <li class="tt" data-bs-placement="top" title="Valider">
                            <button class="btn btn-success"> <i class="fa-solid fa-check"></i></button>
                        </li>
                        <li class="tt" data-bs-placement="top" title="Modifier">
                            <button class="btn btn-primary"> <i class="fa-solid fa-edit"></i></button>
                        </li>
                        <li class="tt" data-bs-placement="top" title="Supprimer">
                            <button class="btn btn-danger"> <i class="fa-solid fa-trash"></i></button>
                        </li>
                    </ul>
                </div>

            </div>
            <h2 class="id-title">Documents requis</h2>
            <div class="container-st">
                <div class="left">
                    <ul>
                        <li>Attestation du diplôme     : <span>......</span></li>
                        <li>Attestation de bonnes moeurses  : <span>......</span></li>
                        <li>Attestation d'engagement     : <span>......</span></li>
                        <li>Relevés (pour les anciens étudiants)  : <span>......</span></li>
                    </ul>
                </div>
                

            </div>

            

        </div>
    
    </section>
    <script src="src/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Etudiant Zero modif
        let EZeroMod = document.getElementById('st_zeroM');
        let StudM = document.getElementById('st_modif');

        EZeroMod.addEventListener('click', ()=>{
            StudM.classList.add('active');
        })

        function removeEZDisplay(){
            StudM.classList.remove('active');
        }


        // Etudiant Zero Modif end
        // toolTip
        const tooltips =document.querySelectorAll('.tt')
        tooltips.forEach(t => {
          new bootstrap.Tooltip(t)
        })
        // toolTip end
        let req=window.location.search
        let ID;
        if (req.search("id=")) {
            let id=req.split("=")[1]

            console.log(id);
            $.get("server/", {"etudiant_0-byId":id},
                function (data, textStatus, jqXHR) {
                    data=data.data
                    if (data.length>0) {
                        data.forEach(element => {
                            console.log(element);
                            const keys = Object.keys(element);
                            console.log(keys);
                            for(var i of keys){
                                console.log(i);
                                $("#"+i).text(element[i]);
                            }
                        });
                    } else {
                        window.open("find.html","_self")
                    }
                    
                    // console.log(data);
                },
                "json"
            );
        }else{
            window.open("find.html","_self")
        }
        $("#valide").click(function (e) { 
            e.preventDefault();
            $.post("server/?etudiant_1-new", {matricule:Date.now(),id:req.split("=")[1],departement:$("#departement").text(),promotion:$("#promotion").text(),},
                function (data, textStatus, jqXHR) {
                    alert(data.message)
                },
                "json"
            );
        });
        // console.log(window.location.search.search("id="));
    </script>
</body>
</html>
